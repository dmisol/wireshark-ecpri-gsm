# wireshark c поддержкой прориетарных решений для GSM

## поддержка eCPRI диалекта GSM

Добавлен разбор пакетов для случая передачи IQ отсчетов GSM во временной области в формате сплита 7.2x

* При совместной работе GSM и LTE, необходимо определиться со значением **payloadVersion** для случая GSM и поправить соответствующую константу в шапке [dissector-oran.c](epan/dissectors/packet-oran.c).
* Формат кодировки IQ отсчетов неизвестен. Судя по трейсу, отсчеты передаются по 16 бит
* В UL в таймслотах 1..6 и 8..13 отсутствуют нулевые заполнители в последнем RB
* В трейсе все UL и DL пакеты дублируются дважды, при полном совпадении полей (vlan-ы, антенны, отсчеты) 

## реализовано частичное декадирование протокола A-hex

Интерфейс между BSC и BBU

Особенности интерфейса:

* "классический" BSSAP (декодируется по-определению)
* инкапсуляция A-bis RSL (uplink+downlink), как в контексте, так и вне контекста SCCP соединения (патч)
* _вызовы RPC на стороне BBU_
* _передача событий от PSU для реализации соответствующих счетчиков на стороне BSC_

### декодирование A-bis RSL

**Разделение функциональности производится на уровне SCCP:**

1. для передачи RSL в контексте соединения используем DT2 (см ITU-T Q.712 1.6 и Q.713 4.8)

2. для передачи RSL вне SCCP соединений в обоих направлениях используем UDT, оба SSN=253 (см ITU-T Q.712 1.22 и Q.713 4.18)

**В обоих случаях к SCCP payload добавляется префикс из 3х байт, позволяющий идентифицировать {сектор+несущую+таймслот}**

Таким образом, декодирование DT2 + UDT(SSN=253) позволяет получить полный мониторинг A-bis 

[Q.712](https://www.itu.int/rec/recommendation.asp?lang=en&parent=T-REC-Q.712-199607-I)
[Q.713](https://www.itu.int/rec/dologin_pub.asp?lang=eid=T-REC-Q.713-200103-I!!PDF-E&type=items)

